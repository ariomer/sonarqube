{\rtf1\ansi\ansicpg1252\cocoartf2513
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 name: Build\
on:\
  push:\
    branches:\
      - master\
      - siberblog-patch-1\
  pull_request:\
    types: [opened, synchronize, reopened]\
jobs:\
  sonarcloud:\
    name: SonarCloud  \
    runs-on: ubuntu-latest\
    steps:\
      - uses: actions/checkout@v2\
        with:\
          fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis\
          \
      - name: SonarCloud Scan\
        uses: SonarSource/sonarcloud-github-action@master\
        env:\
          GITHUB_TOKEN: $\{\{ secrets.GITHUB_TOKEN \}\}  # Needed to get PR information, if any\
          SONAR_TOKEN: $\{\{ secrets.SONAR_TOKEN \}\}\
\
      - name: Docker login\
        env:\
          DOCKER_USER: $\{\{secrets.DOCKER_USERNAME\}\}\
          DOCKER_PASS: $\{\{secrets.DOCKER_PASSWORD\}\}\
        run: |\
          docker login -u $DOCKER_USER -p $DOCKER_PASS\
\
      - name: Build the Docker image\
        env:\
          GITHUB_RUN_NUMBER: \
        run: |\
          docker build . --file Dockerfile --tag=siberblog/sonarqubetest:$\{\{ github.run_number \}\}\
          docker tag ariomer/sonarqubetest:$GITHUB_RUN_NUMBER ariomer/sonarqubetest:latest\
\
      - name: Docker Push\
        run: |\
          docker push ariomer/sonarqubetest:$GITHUB_RUN_NUMBER\
          docker push ariomer/sonarqubetest:latest}
